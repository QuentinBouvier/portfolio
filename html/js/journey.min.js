(function e(n,t,o){function i(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};n[a][0].call(d.exports,function(e){var t=n[a][1][e];return i(t?t:e)},d,d.exports,e,n,t,o)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i})({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./FramedBox"),i=e("./engine/Utils"),r=function(){function e(e,n,t){var r=this;this.generateBoxes=function(){for(var e=[],n=0;n<r._nOfBox;n++)e[n]=new o.FramedBox("box"+n,{x:200,y:200,z:200},{x:i.randomInt(r._range.min,r._range.max),y:0,z:i.randomInt(r._range.min,r._range.max)});return e},this.updateBoxes=function(e,n){for(var t,o,a=e.position,s=0;s<n.length;s++)o=n[s].mesh().position,t=a.distanceTo(o),(t>r._range.max+20*r._range.max/100||t<300)&&n[s].mesh().position.set(i.randomInt(a.x+r._range.min,a.x+2*r._range.max),0,i.randomInt(a.z+r._range.min,a.z+2*r._range.max))},this.range=function(){return r._range},this._nOfBox=e,this._range={min:n,max:t}}return e}();t.BoxGenerator=r},{"./FramedBox":4,"./engine/Utils":11}],2:[function(e,n,t){"use strict";function o(e,n){return Math.floor(Math.random()*(n-e)+e)}function i(e,n){var t,o=Math.abs(e),i=Math.abs(n),r=Math.random();return t=e<0&&n>=0?Math.floor(r*(n+o)-o):e<0&&n<0?Math.floor(r*(o-i)+i)*-1:Math.floor(r*(n-e+1)+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.random=o,t.randomInt=i},{}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n,t){var o=this;this.mesh=function(){return o._mesh},this.loaded=function(){return o._loaded},this._pushText=function(){var e=requestAnimationFrame(function(){return o._pushText()});if(o._loaded===!0){cancelAnimationFrame(e);var n=new THREE.TextGeometry(o._text,{font:o._font,size:65,height:.05,curveSegments:10}),t=new THREE.MeshBasicMaterial({color:16382706});o._mesh=new THREE.Mesh(n,t),o._mesh.position.set(o._position.x,o._position.y,o._position.z),document.dispatchEvent(o._loadEvent)}},this.name=function(){return o._name},this.position=function(){return o._position},this._name=e,this._loadEvent=new CustomEvent("fontloaded",{detail:this}),this._loaded=!1,this._text=n,this._position=t;var i=new THREE.FontLoader;i.load("/js/res/Lato_Thin_Regular.json",function(e){o._font=e,o._loaded=!0}),this._pushText()}return e}();t.FloatingText=o},{}],4:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./Engine/Utils"),i=function(){function e(e,n,t){void 0===t&&(t={x:0,y:0,z:0});var i=this;this.mesh=function(){return i._mesh},this.name=function(){return i._name},this.getPosition=function(){return i._mesh.position},this.rSpeed=function(){return i._rotationSpeed},this.rDir=function(){return i._rotationDir},this._name=e,this._box=new THREE.BoxBufferGeometry(n.x,n.y,n.z);var r=new THREE.EdgesGeometry(this._box,1);this._material=new THREE.MeshBasicMaterial({color:0}),this._mesh=new THREE.Mesh(this._box,this._material),this._mesh.position.set(t.x,t.y,t.z),this._line=new THREE.LineSegments(r,new THREE.LineBasicMaterial({color:7829367})),this._mesh.add(this._line),Math.random()>=.5?this._rotationDir=1:this._rotationDir=-1,this._rotationSpeed=o.random(5,8)/1e4}return e}();t.FramedBox=i},{"./Engine/Utils":2}],5:[function(e,n,t){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=e("./engine/Scene"),r=e("./engine/Input"),a=e("./FramedBox"),s=e("./BoxGenerator"),u=e("./FloatingText"),c=function(e){function n(n,t,o,i){var c=e.call(this,n,t,o,i)||this;return c.launch=function(){c.init(),c.animate()},c.unload=function(){cancelAnimationFrame(c._animationRequest),document.dispatchEvent(c._unloadEvent),c._input.disable(),c._boxes=[],c.clearMesh(),c._input.unassignKeys(),c._renderer.domElement.remove()},c.init=function(){var e=new a.FramedBox("floor",{x:2*c._generator.range().max,y:0,z:2*c._generator.range().max},{x:0,y:-101,z:0});new u.FloatingText("title1","QUENTIN B.",new THREE.Vector3(118,10,-30)),new u.FloatingText("title2","WEBDEV",new THREE.Vector3(174,-100,-30));document.addEventListener("fontloaded",function(e){c._mesh[e.detail.name()]=e.detail.mesh(),c.pushMeshes()}),c._mesh[e.name()]=e.mesh(),c._boxes=c._generator.generateBoxes(),c._boxes.forEach(function(e){c._mesh[e.name()]=e.mesh()}),c.pushMeshes(),c._prevTime=performance.now(),c.render(),c._input.assignKeys({up:[90,87],down:[83],left:[81,65],right:[68],exit:[82]}),c._input.run()},c.animate=function(){if(c._animationRequest=requestAnimationFrame(function(){return c.animate()}),c._frameCount++,c._input.checkInput("exit")&&c.unload(),c._input.hasFocus()){var e=performance.now(),n=e-c._prevTime;c._boxes.forEach(function(e){e.mesh().rotation.y+=e.rDir()*e.rSpeed()*n}),c.motion(n),c._frameCount%10==0&&c._generator.updateBoxes(c._camera.getCamera(),c._boxes),c.render(),c._prevTime=performance.now(),c._elapsed+=n}},c.motion=function(e){var n=c._camera.getDirection().normalize(),t=.5;c._input.checkInput("up")&&(c._camera.move.all({x:n.x*t*e,y:0,z:n.z*t*e}),c._mesh.floor.position.x+=n.x*t*e,c._mesh.floor.position.z+=n.z*t*e),c._input.checkInput("down")&&(c._camera.move.all({x:-n.x*t*e,y:0,z:-n.z*t*e}),c._mesh.floor.position.x+=-n.x*t*e,c._mesh.floor.position.z+=-n.z*t*e),c._input.checkInput("left")&&(c._camera.move.all({x:n.z*t*e,y:0,z:-n.x*t*e}),c._mesh.floor.position.x+=n.z*t*e,c._mesh.floor.position.z+=-n.x*t*e),c._input.checkInput("right")&&(c._camera.move.all({x:-n.z*t*e,y:0,z:n.x*t*e}),c._mesh.floor.position.x+=-n.z*t*e,c._mesh.floor.position.z+=n.x*t*e),0!=c._input.mouseMotion().rx&&(c._camera.rotate.y(5e-4*-c._input.mouseMotion().rx*e),c._mesh.floor.rotation.y+=5e-4*-c._input.mouseMotion().rx*e),c._input.resetMouseMotion()},c._input=new r.Input,c._generator=new s.BoxGenerator(100,-9e3,9e3),c._boxes=[],c._unloadEvent=new Event("journeysceneunloaded"),c}return o(n,e),n}(i.Scene);t.GameScene=c},{"./BoxGenerator":1,"./FloatingText":3,"./FramedBox":4,"./engine/Input":8,"./engine/Scene":10}],6:[function(e,n,t){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=e("./engine/Scene"),r=e("./FramedBox"),a=function(e){function n(n,t,o,i){var a=e.call(this,n,t,o,i)||this;return a.init=function(){var e=new r.FramedBox("box",{x:200,y:200,z:200},{x:175,y:0,z:0});a.addMesh({box:e.mesh()}),a.render()},a.animate=function(){a._animationRequest=requestAnimationFrame(function(){return a.animate()}),a.mesh("box").rotation.y+=.003,a.render()},a.unload=function(){a._renderer.domElement.remove(),document.dispatchEvent(a._unloadEvent),cancelAnimationFrame(a._animationRequest)},a._unloadEvent=new Event("portfoliosceneunloaded"),a}return o(n,e),n}(i.Scene);t.PortfolioScene=a},{"./FramedBox":4,"./engine/Scene":10}],7:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var n=this;this._update=function(){n._camera.position.set(n._position.x,n._position.y,n._position.z),n._camera.fov=n._fov,n._camera.aspect=n._aspect,n._camera.near=n._near,n._camera.far=n._far},this.getCamera=function(){return n._camera},this.setProperties=function(e){var t;for(var o in e){if(void 0===typeof n["_"+o])return console.log("Camera.setProperties error. "+o+": is not part of camera properties"),!1;t[o]=e[o]}return n._fov=t.fov,n._aspect=t.aspect,n._far=t.far,n._near=t.near,n._position={x:t.X,y:t.y,z:t.z},n._update(),!0},this.position=function(){return n._position},this.setPosition=function(e){n._position=e,n._update()},this.move={x:function(e){n._position.x+=e,n._update()},y:function(e){n._position.y+=e,n._update()},z:function(e){n._position.z+=e,n._update()},all:function(e){n._position.x+=e.x,n._position.y+=e.y,n._position.z+=e.z,n._update()}},this.rotate={x:function(e){n._camera.rotateX(e)},y:function(e){n._camera.rotateY(e)},z:function(e){n._camera.rotateZ(e)}},this.getDirection=function(){var e=new THREE.Vector3;return e=n._camera.getWorldDirection(),e.normalize()},this._fov=e.fov,this._aspect=e.aspect,this._near=e.near,this._far=e.far,this._position={x:e.x,y:e.y,z:e.z},this._camera=new THREE.PerspectiveCamera(this._fov,this._aspect,this._near,this._far),this._camera.position.set(this._position.x,this._position.y,this._position.z)}return e}();t.Camera=o},{}],8:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this._hasFocus=!0,this.run=function(){e.listenToFocus(),e.enablePointerLock(),document.dispatchEvent(e._captureEvent),e.mouse(),e.keyboard()},this.disable=function(){window.removeEventListener("mousemove",e._onMouseMove),window.removeEventListener("keydown",e._onKeyDown),window.removeEventListener("keyup",e._onKeyUp),document.removeEventListener("click",e._requestPointerLock,!1),document.removeEventListener("pointerlockchange",e._pointerlockchange,!1),document.removeEventListener("mozpointerlockchange",e._pointerlockchange,!1),document.removeEventListener("webkitpointerlockchange",e._pointerlockchange,!1),document.removeEventListener("captureMouse",e._requestPointerLock),e.releasePointerLock(),delete e._captureEvent},this._onMouseMove=function(n){var t=n.movementX||n.mozMovementX||n.webkitMovementX||0,o=n.movementY||n.mozMovementY||n.webkitMovementY||0;e._mouse={rx:t,ry:o}},this.resetMouseMotion=function(){e._mouse={rx:0,ry:0}},this.mouse=function(){window.addEventListener("mousemove",e._onMouseMove)},this._onKeyDown=function(n){var t=n.keyCode;1!=e._keyboardEvents[t]&&e._hasFocus&&(e._keyboardEvents[t]=!0)},this._onKeyUp=function(n){var t=n.keyCode;e._keyboardEvents[t]=!1},this.keyboard=function(){window.addEventListener("keydown",e._onKeyDown),window.addEventListener("keyup",e._onKeyUp)},this.listenToFocus=function(){var n;"undefined"!=typeof document.hidden?n="visibilitychange":"undefined"!=typeof document.mozHidden?n="mozvisibilitychange":"undefined"!=typeof document.msHidden?n="msvisibilitychange":"undefined"!=typeof document.webkitHidden&&(n="webkitvisibilitychange");var t=function(n){document.hasFocus()?e._hasFocus=!0:e._hasFocus=!1;for(var t in n._keyboardEvents)n._keyboardEvents[t]=!1};document.addEventListener(n,function(){return t(e)}),window.addEventListener("focus",function(){return t(e)}),window.addEventListener("blur",function(){return t(e)})},this._pointerlockchange=function(n){var t=document.body;document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t?e._hasFocus=!0:e._hasFocus=!1},this._requestPointerLock=function(){var e=document.body;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()},this.releasePointerLock=function(){document.exitPointerLock()},this.enablePointerLock=function(){var n="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;if(n){var t=(document.body,function(e){alert("Impossible de capturer la souris.")});document.addEventListener("pointerlockchange",e._pointerlockchange,!1),document.addEventListener("mozpointerlockchange",e._pointerlockchange,!1),document.addEventListener("webkitpointerlockchange",e._pointerlockchange,!1),document.addEventListener("pointerlockerror",t,!1),document.addEventListener("mozpointerlockerror",t,!1),document.addEventListener("webkitpointerlockerror",t,!1),document.addEventListener("click",e._requestPointerLock,!1),document.addEventListener("captureMouse",e._requestPointerLock)}else alert("Your browser doesn't seem to support Pointer Lock API")},this.setKey=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];e._keyMap[n]=t},this.assignKeys=function(n){for(var t in n)e._keyMap[t]=n[t]},this.unassignKeys=function(){for(var n in e._keyMap)delete e._keyboardEvents[n]},this.keyboardEvents=function(){return e._keyboardEvents},this.keyMap=function(){return e._keyMap},this.mouseMotion=function(){return e._mouse},this.checkInput=function(n){for(var t=!1,o=0,i=e._keyMap[n];o<i.length;o++){var r=i[o];if(e._keyboardEvents[r]===!0){t=!0;break}}return t},this.hasFocus=function(){return e._hasFocus},this._keyboardEvents={},this._keyMap={},this._mouse={rx:0,ry:0},this._captureEvent=new Event("captureMouse")}return e}();t.Input=o},{}],9:[function(e,n,t){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=e("./Camera"),r=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.bindRayCaster=function(e){n._rayCaster=e},n.rayCaster=function(){return n._rayCaster},n}return o(n,e),n}(i.Camera);t.Player=r},{"./Camera":7}],10:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n,t,o){var i=this;this._mesh={},this.load=function(){document.getElementById(i._blockId).appendChild(i._renderer.domElement),i._scene=new THREE.Scene},this.unload=function(){},this.launch=function(){i.init(),i.animate()},this.render=function(){i._renderer.render(i._scene,i._camera.getCamera())},this.addMesh=function(e){for(var n in e)i._mesh[n]=e[n],i._scene.add(i._mesh[n])},this.removeMesh=function(e){i._scene.remove(i._mesh[e]),delete i._mesh[e]},this.clearMesh=function(){for(var e in i._mesh)i._scene.remove(i._mesh[e]),delete i._mesh[e]},this.pushMeshes=function(){for(var e in i._mesh)i._scene.add(i._mesh[e])},this.animate=function(){},this.init=function(){},this.meshes=function(){return i._mesh},this.mesh=function(e){return i._mesh[e]},this.getContext=function(){return i._renderer.domElement},this._name=e,this._blockId=n,this._renderer=new THREE.WebGLRenderer(t.options),this._renderer.setSize(t.width,t.height),this._camera=o,this._frameCount=0,this._elapsed=0,this.load()}return e}();t.Scene=o},{}],11:[function(e,n,t){arguments[4][2][0].apply(t,arguments)},{dup:2}],12:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./Classes/GameScene"),i=e("./Classes/engine/Player"),r=e("./Classes/engine/Camera"),a=e("./Classes/Portfolioscene");$(document).ready(function(){function e(){$("#cube").removeClass("konamied"),$(".banner-title").removeClass("hidden"),h.width=window.innerWidth,h.height=window.innerHeight,f.aspect=h.width/h.height,document.getElementById("journey-infos").remove(),_=new a.PortfolioScene("portfolio","cube",h,new r.Camera(f)),_.launch(),d()}function n(){$(".banner-title").addClass("hidden"),$("html, body").animate({scrollTop:0},1e3,function(){$("#cube").addClass("konamied")}),c(),_.unload(),h.width=window.innerWidth,h.height=window.innerHeight,f.aspect=h.width/h.height,m=new o.GameScene("konami","cube",h,new i.Player(f)),document.addEventListener("keydown",function(e){27==e.keyCode&&(e.preventDefault,m.unload())}),m.launch(),t()}function t(){var e=document.createElement("div");e.setAttribute("class","journey-infos"),e.setAttribute("id","journey-infos"),e.innerHTML='<i class="fa fa-keyboard-o" aria-hidden="true"></i> ZQSD<br>',e.innerHTML+='<i class="fa fa-arrow-left" aria-hidden="true" style="font-size: 0.8em"></i> <i class="material-icons">mouse</i> <i class="fa fa-arrow-right" aria-hidden="true" style="font-size: 0.8em"></i><br>',e.innerHTML+="R / Esc: quitter",m.getContext().parentElement.insertBefore(e,m.getContext())}function s(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function u(e){if(E[e.keyCode])return s(e),!1}function c(){window.addEventListener&&window.addEventListener("DOMMouseScroll",s,!1),window.onwheel=s,window.onmousewheel=document.onmousewheel=s,window.ontouchmove=s,document.onkeydown=u}function d(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",s,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}var m,_,h={options:{antialias:!0},width:window.innerWidth,height:window.innerHeight},f={fov:50,aspect:h.width/h.height,near:1,far:1e4,x:375,y:-50,z:800},l=!1,p=document.createElement("canvas");if(p=p.getContext("webgl"),p=p instanceof WebGLRenderingContext){_=new a.PortfolioScene("portfolio","cube",h,new r.Camera(f)),_.launch(),document.addEventListener("journeysceneunloaded",e);var v=[38,38,40,40,37,39,37,39,66,65],y=0;document.addEventListener("keydown",function(e){var t=e.keyCode||e.which;t==v[y++]?y==v.length&&(l||n()):y=0})}else{console.log("Unable to load WebGl");var w=document.createElement("div");w.setAttribute("class","banner-substitute"),w.innerHTML='<img src="/images/cubeanimated.gif">',document.getElementById("cube").appendChild(w)}var E={37:1,38:1,39:1,40:1,32:1,33:1,34:1,35:1,36:1}})},{"./Classes/GameScene":5,"./Classes/Portfolioscene":6,"./Classes/engine/Camera":7,"./Classes/engine/Player":9}]},{},[12]);